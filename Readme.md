
# Техническая документация для интернет-магазина OptiTradeHub

<a href="https://www.instagram.com/enaction_of_kvptk/"><img src="https://img.shields.io/badge/Instagram-E4405F?style=for-the-badge&logo=instagram&logoColor=white" /></a>

OptiTradeHub — это современный интернет-магазин, предоставляющий пользователям удобный интерфейс для покупки и продажи товаров. Проект ориентирован на создание комфортного и безопасного опыта покупок с использованием современных технологий.

## Введение

Данная техническая документация предназначена для комплексного описания архитектуры, структуры и функциональности веб-сайта **OptiTradeHub**, который разработан для удобного и эффективного проведения оптовых торговых операций. Веб-приложение представляет собой интуитивно понятный интерфейс, обеспечивающий взаимодействие между поставщиками и покупателями, а также администраторами, что позволяет оптимизировать процессы закупок и продаж. Для реализации проекта использованы современные технологии, которые гарантируют надежность и безопасность функционирования платформы.

## Скриншот

![Op](https://i.imgur.com/ad7y7Qx.jpeg)

## Архитектура проекта

Проект **OptiTradeHub** разделен на три ключевых компонента, каждый из которых выполняет свою уникальную роль в обеспечении функциональности и надежности веб-сайта:

1. **Клиентская часть (Client)**:
   - Клиентская часть разработана с использованием мощного JavaScript-фреймворка **React**, который обеспечивает отзывчивость интерфейса и улучшает пользовательский опыт. React позволяет создавать динамические и интерактивные компоненты, что делает взаимодействие с сайтом более приятным и понятным.
   - В этой части также используются дополнительные библиотеки и фреймворки, такие как **MobX** для управления состоянием приложения, **React Router** для маршрутизации и **anime.js** для создания анимаций, что значительно обогащает визуальное представление и взаимодействие с пользователем.

2. **Серверная часть (Server)**:
   - Серверная часть разработана на основе **Node.js** с использованием **Express**, что позволяет эффективно обрабатывать HTTP-запросы и организовывать маршрутизацию. Это создает RESTful API, который служит связующим звеном между клиентской и серверной частями системы.
   - Данная часть отвечает за управление данными, включая их хранение, извлечение и обновление, а также за безопасность приложения, используя технологии аутентификации, такие как **JWT (JSON Web Token)**, для защиты пользовательской информации.

3. **База данных**:
   - В качестве системы управления базами данных выбрана **PostgreSQL**, что обеспечивает надежное и эффективное хранение данных о пользователях, товарах, заказах и других связанных сущностях. Структура базы данных тщательно спроектирована, чтобы обеспечить быстрый доступ к информации и поддерживать целостность данных.


## Установка и настройка

1. Клонирование репозитория: Выполните команду `git clone` с URL репозитория.
    ```
    https://github.com/EnactusKVPTK/OptiTradeHub.git
    ```
2. Установка зависимостей серверной части: Перейдите в корневую директорию проекта и выполните команду `npm install`.
    ```
    cd server
    npm install
    ```   
3. Установка зависимостей клиентской части: Перейдите в директорию `client` и выполните команду `npm install`.
    ```
    cd client
    npm install
    ```
4. Настройка переменных окружения: Создайте файл `.env` в корневой директории сервера проекта (server) и укажите необходимые переменные окружения, такие как
    ```
    PORT(5000), DB_NAME(store_opti), DB_USER(postgres), DB_PASSWORD(root), DB_HOST(localhost), DB_PORT(5432) и SECRET_KEY.
    ```
   Создайте файл `.env` в корневой директории клиента проекта (client) и укажите необходимые переменные окружения
    ```
    REACT_APP_API_URL()'http://localhost:5000/')
    ```
5. Запуск сервера: В корневой директории проекта выполните команду `npm run dev`. Заранее настроив и запустив базу данных PostgresSQL и создав в ней базу данных (По умолчанию: store_opti)
    ```
    npm run dev
    ```
6. Запуск клиента: Перейдите в директорию `client` и выполните команду `npm start`.
    ```
    cd client
    npm start
    ```
7. Откройте браузер и перейдите по адресу
   ```
   http://localhost:3000
   ```
## Структура проекта

Проект разделен на две основные части:

	OptiTradeHub/
	├── server/
	│   ├── controllers/
	│   ├── error/
	│   ├── middleware/
	│   ├── models/
	│   ├── routes/
	│   ├── static/
	│   ├── config/
 	│   ├── db.js
	│   ├── index.js
 	│   ├── package-lock.json
	│   └── package.json
	├── client/
	│   ├── public/
	│   ├── src/
	│   │   ├── components/
	│   │   ├── routes/
	│   │   ├── pages/
	│   │   ├── http/
	│   │   ├── store/
	│   │   ├── utils/
 	│   │   ├── App.js
  	│   │   ├── index.js
 	│   │   └── routes.js
 	│   ├── package-lock.js
  	│   ├── package.js
  	│   └── README.md
	└── README.md

### Описание структуры

Директория `server` содержит серверную часть приложения на Node.js:

- index.js — Главный файл приложения, который настраивает сервер и определяет маршруты.
- models — Модели данных, используемые для работы с базой данных PostgreSQL.
- routes — Маршруты API, которые обрабатывают запросы от клиентской части.
- static — Директория для статических файлов, таких как изображения или документы.
- middleware — Промежуточные функции (middleware), которые проверяют корректность запросов API, включая аутентификацию и валидацию.
- error — Файл ApiError.js, который обрабатывает ошибки, возвращая соответствующие коды и сообщения.
- controllers — Контроллеры, вызываемые через API. Здесь выполняется основная бизнес-логика приложения (например, создание пользователя, получение списка продуктов).

Директория `client` содержит клиентскую часть приложения, разработанную на React:

- public — Статические файлы, такие как HTML-документы и изображения, используемые в приложении.
- src — Исходный код React-приложения.
- components — Основные компоненты интерфейса, отображающие пользовательский интерфейс.
- modals — Модальные окна для создания продуктов и пользователей.
- pages — Страницы веб-приложения, каждая представлена отдельным компонентом React.
- http — Службы для выполнения HTTP-запросов к серверной части.
- store — Управление состоянием приложения, включая данные о продуктах и пользователях.
- utils — Утилиты и константы, такие как файлы для маршрутизации.
- assets — Медиафайлы (картинки, иконки), используемые в клиентской части.


## Клиентская часть (Client)

### Зависимости

В проекте используются следующие зависимости, которые обеспечивают функциональность и поддержку различных аспектов клиентской части:

```json
{
  "dependencies": {
    "@fortawesome/free-solid-svg-icons": "^6.6.0",
    "@fortawesome/react-fontawesome": "^0.2.2",
    "animejs": "^3.2.2",
    "axios": "^1.7.5",
    "dotenv": "^16.4.5",
    "jwt-decode": "^4.0.0",
    "mobx": "^6.13.1",
    "mobx-react-lite": "^4.0.7",
    "react": "^18.3.1",
    "react-dom": "^18.3.1",
    "react-icons": "^5.3.0",
    "react-router-dom": "^6.26.1",
    "socket.io": "^4.7.5",
    "styled-components": "^6.1.13"
  },
  "devDependencies": {
    "tailwindcss": "^3.4.12"
  }
}
```

### Скрипты

Проект поддерживает следующие скрипты, которые позволяют выполнять различные задачи, связанные с разработкой и тестированием:

- **start**: Запуск приложения в режиме разработки, позволяющий разработчикам проверять изменения в реальном времени.
- **build**: Сборка приложения для продакшн, что обеспечивает оптимизацию кода для использования в продуктивной среде.
- **test**: Запуск тестов для проверки функциональности и надежности кода.
- **eject**: Извлечение конфигурации проекта, позволяющее разработчикам вносить изменения в настройки по умолчанию.

### Основные компоненты

1. **React Router**: 
   - Используется для управления маршрутизацией в приложении, обеспечивая пользователям простую и интуитивно понятную навигацию между страницами. Это существенно улучшает общий пользовательский опыт, позволяя легко перемещаться между различными разделами сайта.

2. **MobX**: 
   - Применяется для управления состоянием приложения, обеспечивая эффективное отслеживание изменений и их реакцию на изменения состояния. Это делает приложение более отзывчивым и динамичным, улучшая взаимодействие с пользователем.

3. **Axios**: 
   - Используется для выполнения HTTP-запросов к серверу, что позволяет клиентской части взаимодействовать с сервером и получать необходимые данные для отображения.

4. **Socket.IO**: 
   - Реализует функциональность в реальном времени, включая чат и уведомления, что делает взаимодействие пользователей и администраторов более интерактивным и мгновенным.

## Серверная часть (Server)

### Зависимости

В проекте используются следующие зависимости, которые обеспечивают функциональность и поддержку различных аспектов серверной части:

```json
{
  "dependencies": {
    "bcrypt": "^5.1.1",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "express": "^4.20.0",
    "express-fileupload": "^1.5.1",
    "jsonwebtoken": "^9.0.2",
    "pg": "^8.12.0",
    "sequelize": "^6.37.3",
    "socket.io": "^4.7.5"
  },
  "devDependencies": {
    "nodemon": "^3.1.4"
  }
}
```

### Скрипты

Проект поддерживает следующий скрипт для запуска сервера в режиме разработки:
- **dev**: Запуск сервера с помощью **Nodemon**, что обеспечивает автоматический перезапуск сервера при внесении изменений в код, повышая эффективность разработки.

### Основные компоненты

1. **Express**: 
   - Используется для обработки HTTP-запросов и маршрутизации, создавая RESTful API, который служит связующим звеном между клиентской и серверной частями. Это обеспечивает эффективное взаимодействие между всеми компонентами системы.

2. **Sequelize**: 
   - Это объектно-реляционный маппер (ORM) для работы с PostgreSQL, который упрощает взаимодействие с базой данных, позволяя разработчикам легко управлять записями, осуществлять запросы и обеспечивать целостность данных.

3. **Socket.IO**: 
   - Реализует функциональность в реальном времени, включая чат и уведомления, что улучшает взаимодействие пользователей и делает процесс общения более удобным и мгновенным.

4. **JWT (JSON Web Token)**: 
   - Используется для аутентификации пользователей, обеспечивая безопасный доступ к защищенным ресурсам и предотвращая несанкционированный доступ к данным.

## База данных

### Структура базы данных

База данных PostgreSQL содержит несколько таблиц, каждая из которых выполняет важные функции в системе **OptiTradeHub**. Эти таблицы включают:

- **Users**: Хранит информацию о пользователях, включая их роли (Пользователь, Поставщик, Администратор). Это позволяет управлять доступом к различным функциям системы и обеспечивает безопасность данных.
- **Products**: Содержит данные о товарах, включая их описание, цену и количество на складе. Это обеспечивает удобство поиска и отображения товаров для клиентов.
- **Orders**: Содержит информацию о заказах, связывая пользователей с товарами и отслеживая статус каждого заказа, что упрощает процесс управления заказами и позволяет быстро получать информацию о состоянии поставок.

![Op](https://i.imgur.com/Hfngpdz.png)

## Заключение

Проект **OptiTradeHub** представляет собой современное и мощное решение для оптовых торговых операций, объединяющее передовые технологии и удобный пользовательский интерфейс. Документация будет обновляться по мере изменения и доработки проекта, что обеспечит актуальность и полезность информации для разработчиков и пользователей.

